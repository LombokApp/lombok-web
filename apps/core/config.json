{
  "description": "An app implementing core functionality. This is a separate node process and can be run alongside the core app or deployed on another host.",
  "identifier": "core",
  "label": "Core",
  "requiresStorage": false,
  "tasks": [
    {
      "identifier": "analyze_object",
      "label": "Analyze Object",
      "description": "Analyze the content of a file and save the result as metadata",
      "triggers": ["platform:object_added"],
      "handler": {
        "type": "external"
      }
    },
    {
      "identifier": "run_worker_script",
      "label": "Run Worker",
      "description": "Run a worker script.",
      "triggers": ["platform:worker_task_enqueued"],
      "handler": {
        "type": "external"
      }
    },
    {
      "identifier": "extract_semantic_metadata",
      "label": "Extract Semantic Metadata",
      "description": "Extract semantic metadata from an object.",
      "triggers": ["platform:object_added"],
      "handler": {
        "type": "docker",
        "profile": "content_analysis",
        "jobClass": "extract_content_metadata"
      }
    }
  ],
  "containerProfiles": {
    "content_analysis": {
      "image": "nginx",
      "jobClasses": {
        "extract_content_metadata": {
          "maxPerContainer": 1,
          "countTowardsGlobalCap": true,
          "priority": 1
        }
      }
    }
  },
  "emittableEvents": ["trigger_content_analysis"]
}
