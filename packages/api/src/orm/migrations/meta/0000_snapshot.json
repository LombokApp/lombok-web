{
  "id": "504d2251-a560-485e-985f-3480ea3ea48a",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.app_folder_settings": {
      "name": "app_folder_settings",
      "schema": "",
      "columns": {
        "folderId": {
          "name": "folderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "appIdentifier": {
          "name": "appIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "app_folder_settings_folder_id_idx": {
          "name": "app_folder_settings_folder_id_idx",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_folder_settings_folder_app_unique": {
          "name": "app_folder_settings_folder_app_unique",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "appIdentifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "app_folder_settings_folderId_folders_id_fk": {
          "name": "app_folder_settings_folderId_folders_id_fk",
          "tableFrom": "app_folder_settings",
          "tableTo": "folders",
          "columnsFrom": [
            "folderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "app_folder_settings_appIdentifier_apps_identifier_fk": {
          "name": "app_folder_settings_appIdentifier_apps_identifier_fk",
          "tableFrom": "app_folder_settings",
          "tableTo": "apps",
          "columnsFrom": [
            "appIdentifier"
          ],
          "columnsTo": [
            "identifier"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_user_settings": {
      "name": "app_user_settings",
      "schema": "",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "appIdentifier": {
          "name": "appIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "folderScopeEnabledDefault": {
          "name": "folderScopeEnabledDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "folderScopePermissionsDefault": {
          "name": "folderScopePermissionsDefault",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "app_user_settings_user_id_idx": {
          "name": "app_user_settings_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_user_settings_user_app_unique": {
          "name": "app_user_settings_user_app_unique",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "appIdentifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "app_user_settings_userId_users_id_fk": {
          "name": "app_user_settings_userId_users_id_fk",
          "tableFrom": "app_user_settings",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "app_user_settings_appIdentifier_apps_identifier_fk": {
          "name": "app_user_settings_appIdentifier_apps_identifier_fk",
          "tableFrom": "app_user_settings",
          "tableTo": "apps",
          "columnsFrom": [
            "appIdentifier"
          ],
          "columnsTo": [
            "identifier"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.apps": {
      "name": "apps",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "publicKey": {
          "name": "publicKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requiresStorage": {
          "name": "requiresStorage",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "subscribedCoreEvents": {
          "name": "subscribedCoreEvents",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "implementedTasks": {
          "name": "implementedTasks",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "contentHash": {
          "name": "contentHash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "userScopeEnabledDefault": {
          "name": "userScopeEnabledDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "folderScopeEnabledDefault": {
          "name": "folderScopeEnabledDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"core\":[],\"user\":[],\"folder\":[]}'::jsonb"
        },
        "runtimeWorkers": {
          "name": "runtimeWorkers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "ui": {
          "name": "ui",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "database": {
          "name": "database",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "manifest": {
          "name": "manifest",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "containerProfiles": {
          "name": "containerProfiles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "typeDetails": {
          "name": "typeDetails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_identities": {
      "name": "user_identities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "providerUserId": {
          "name": "providerUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "providerEmail": {
          "name": "providerEmail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "providerName": {
          "name": "providerName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_identities_userId_users_id_fk": {
          "name": "user_identities_userId_users_id_fk",
          "tableFrom": "user_identities",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_provider_user": {
          "name": "unique_provider_user",
          "nullsNotDistinct": false,
          "columns": [
            "provider",
            "providerUserId"
          ]
        },
        "unique_user_provider": {
          "name": "unique_user_provider",
          "nullsNotDistinct": false,
          "columns": [
            "userId",
            "provider"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.comment_mentions": {
      "name": "comment_mentions",
      "schema": "",
      "columns": {
        "comment_id": {
          "name": "comment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mentions_user_lookup": {
          "name": "idx_mentions_user_lookup",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "comment_mentions_comment_id_comments_id_fk": {
          "name": "comment_mentions_comment_id_comments_id_fk",
          "tableFrom": "comment_mentions",
          "tableTo": "comments",
          "columnsFrom": [
            "comment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comment_mentions_user_id_users_id_fk": {
          "name": "comment_mentions_user_id_users_id_fk",
          "tableFrom": "comment_mentions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "comment_mentions_comment_id_user_id_pk": {
          "name": "comment_mentions_comment_id_user_id_pk",
          "columns": [
            "comment_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.comment_reactions": {
      "name": "comment_reactions",
      "schema": "",
      "columns": {
        "comment_id": {
          "name": "comment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reactions_comment_lookup": {
          "name": "idx_reactions_comment_lookup",
          "columns": [
            {
              "expression": "comment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "comment_reactions_comment_id_comments_id_fk": {
          "name": "comment_reactions_comment_id_comments_id_fk",
          "tableFrom": "comment_reactions",
          "tableTo": "comments",
          "columnsFrom": [
            "comment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comment_reactions_user_id_users_id_fk": {
          "name": "comment_reactions_user_id_users_id_fk",
          "tableFrom": "comment_reactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "comment_reactions_comment_id_user_id_emoji_pk": {
          "name": "comment_reactions_comment_id_user_id_emoji_pk",
          "columns": [
            "comment_id",
            "user_id",
            "emoji"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.comments": {
      "name": "comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "folder_id": {
          "name": "folder_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "folder_object_id": {
          "name": "folder_object_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "root_id": {
          "name": "root_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quote_id": {
          "name": "quote_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "author_id": {
          "name": "author_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "anchor": {
          "name": "anchor",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_comments_folder_object_roots": {
          "name": "idx_comments_folder_object_roots",
          "columns": [
            {
              "expression": "folder_object_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "root_id IS NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_thread_flat": {
          "name": "idx_comments_thread_flat",
          "columns": [
            {
              "expression": "root_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "root_id IS NOT NULL AND deleted_at IS NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_tombstone_lookup": {
          "name": "idx_comments_tombstone_lookup",
          "columns": [
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "deleted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "author_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "comments_folder_id_folders_id_fk": {
          "name": "comments_folder_id_folders_id_fk",
          "tableFrom": "comments",
          "tableTo": "folders",
          "columnsFrom": [
            "folder_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comments_folder_object_id_folder_objects_id_fk": {
          "name": "comments_folder_object_id_folder_objects_id_fk",
          "tableFrom": "comments",
          "tableTo": "folder_objects",
          "columnsFrom": [
            "folder_object_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comments_author_id_users_id_fk": {
          "name": "comments_author_id_users_id_fk",
          "tableFrom": "comments",
          "tableTo": "users",
          "columnsFrom": [
            "author_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "comments_root_id_comments_id_fk": {
          "name": "comments_root_id_comments_id_fk",
          "tableFrom": "comments",
          "tableTo": "comments",
          "columnsFrom": [
            "root_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comments_quote_id_comments_id_fk": {
          "name": "comments_quote_id_comments_id_fk",
          "tableFrom": "comments",
          "tableTo": "comments",
          "columnsFrom": [
            "quote_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "content_not_empty": {
          "name": "content_not_empty",
          "value": "length(content) > 0"
        },
        "anchor_only_on_root": {
          "name": "anchor_only_on_root",
          "value": "\n      (root_id IS NOT NULL AND anchor IS NULL) OR\n      root_id IS NULL\n    "
        },
        "no_self_quote": {
          "name": "no_self_quote",
          "value": "quote_id != id"
        }
      },
      "isRLSEnabled": false
    },
    "public.events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "eventIdentifier": {
          "name": "eventIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emitterIdentifier": {
          "name": "emitterIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "targetUserId": {
          "name": "targetUserId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "targetLocationFolderId": {
          "name": "targetLocationFolderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "targetLocationObjectKey": {
          "name": "targetLocationObjectKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "events_target_location_folder_id_idx": {
          "name": "events_target_location_folder_id_idx",
          "columns": [
            {
              "expression": "targetLocationFolderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.folder_objects": {
      "name": "folder_objects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "objectKey": {
          "name": "objectKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "eTag": {
          "name": "eTag",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sizeBytes": {
          "name": "sizeBytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "lastModified": {
          "name": "lastModified",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contentMetadata": {
          "name": "contentMetadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "folderId": {
          "name": "folderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mimeType": {
          "name": "mimeType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mediaType": {
          "name": "mediaType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "folder_objects_folder_id_media_type_size_bytes_idx": {
          "name": "folder_objects_folder_id_media_type_size_bytes_idx",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sizeBytes",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mediaType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "folder_objects_folder_id_media_type_idx": {
          "name": "folder_objects_folder_id_media_type_idx",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "mediaType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "folder_objects_folder_id_object_key_unique": {
          "name": "folder_objects_folder_id_object_key_unique",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "objectKey",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.folder_shares": {
      "name": "folder_shares",
      "schema": "",
      "columns": {
        "folderId": {
          "name": "folderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "user_idx": {
          "name": "user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "folder_user_unique": {
          "name": "folder_user_unique",
          "columns": [
            {
              "expression": "folderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "folder_shares_folderId_folders_id_fk": {
          "name": "folder_shares_folderId_folders_id_fk",
          "tableFrom": "folder_shares",
          "tableTo": "folders",
          "columnsFrom": [
            "folderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.folders": {
      "name": "folders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contentLocationId": {
          "name": "contentLocationId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metadataLocationId": {
          "name": "metadataLocationId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ownerId": {
          "name": "ownerId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "accessError": {
          "name": "accessError",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "folders_contentLocationId_storage_locations_id_fk": {
          "name": "folders_contentLocationId_storage_locations_id_fk",
          "tableFrom": "folders",
          "tableTo": "storage_locations",
          "columnsFrom": [
            "contentLocationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "folders_metadataLocationId_storage_locations_id_fk": {
          "name": "folders_metadataLocationId_storage_locations_id_fk",
          "tableFrom": "folders",
          "tableTo": "storage_locations",
          "columnsFrom": [
            "metadataLocationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "folders_ownerId_users_id_fk": {
          "name": "folders_ownerId_users_id_fk",
          "tableFrom": "folders",
          "tableTo": "users",
          "columnsFrom": [
            "ownerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.log_entries": {
      "name": "log_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emitterIdentifier": {
          "name": "emitterIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "targetLocationFolderId": {
          "name": "targetLocationFolderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "targetLocationObjectKey": {
          "name": "targetLocationObjectKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "log_entries_target_location_folder_id_idx": {
          "name": "log_entries_target_location_folder_id_idx",
          "columns": [
            {
              "expression": "targetLocationFolderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.server_settings": {
      "name": "server_settings",
      "schema": "",
      "columns": {
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.storage_locations": {
      "name": "storage_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "accessKeyHashId": {
          "name": "accessKeyHashId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "providerType": {
          "name": "providerType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "endpointDomain": {
          "name": "endpointDomain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "accessKeyId": {
          "name": "accessKeyId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secretAccessKey": {
          "name": "secretAccessKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bucket": {
          "name": "bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prefix": {
          "name": "prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "storage_locations_userId_users_id_fk": {
          "name": "storage_locations_userId_users_id_fk",
          "tableFrom": "storage_locations",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "ownerIdentifier": {
          "name": "ownerIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "taskIdentifier": {
          "name": "taskIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "taskDescription": {
          "name": "taskDescription",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "invocation": {
          "name": "invocation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "idempotencyKey": {
          "name": "idempotencyKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "targetUserId": {
          "name": "targetUserId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "targetLocationFolderId": {
          "name": "targetLocationFolderId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "targetLocationObjectKey": {
          "name": "targetLocationObjectKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "attemptCount": {
          "name": "attemptCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failureCount": {
          "name": "failureCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "dontStartBefore": {
          "name": "dontStartBefore",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "systemLog": {
          "name": "systemLog",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "taskLog": {
          "name": "taskLog",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "storageAccessPolicy": {
          "name": "storageAccessPolicy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "userVisible": {
          "name": "userVisible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "error": {
          "name": "error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "latestHeartbeatAt": {
          "name": "latestHeartbeatAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "handlerType": {
          "name": "handlerType",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "handlerIdentifier": {
          "name": "handlerIdentifier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tasks_trigger_kind_idx": {
          "name": "tasks_trigger_kind_idx",
          "columns": [
            {
              "expression": "(\"invocation\" ->> 'kind')",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_idempotency_key_idx": {
          "name": "tasks_idempotency_key_idx",
          "columns": [
            {
              "expression": "ownerIdentifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "taskIdentifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "idempotencyKey",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_target_location_folder_id_idx": {
          "name": "tasks_target_location_folder_id_idx",
          "columns": [
            {
              "expression": "targetLocationFolderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_target_location_folder_id_object_key_idx": {
          "name": "tasks_target_location_folder_id_object_key_idx",
          "columns": [
            {
              "expression": "targetLocationFolderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "targetLocationObjectKey",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tasks_idempotencyKey_unique": {
          "name": "tasks_idempotencyKey_unique",
          "nullsNotDistinct": false,
          "columns": [
            "idempotencyKey"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "isAdmin": {
          "name": "isAdmin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emailVerified": {
          "name": "emailVerified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "passwordHash": {
          "name": "passwordHash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passwordSalt": {
          "name": "passwordSalt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "users_username_unique_lower": {
          "name": "users_username_unique_lower",
          "columns": [
            {
              "expression": "lower(\"username\")",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}